# Тестовое задание

## Установка:

> Требуется наличие Docker на локальной машине

Для установки проекта требуется скопировать репозиторий себе на локальную машину:

     git clone https://github.com/zipkaw/testsw.git
  
После можно приступить к развертыванию:

Перейтите в папку `test_sellwin` и запустите скрипт:
  
      sudo docker compose up --build -d
  
>Так как база данных использует 5432 порт он можжет быть занят другим процессом, один из возможных варианнтов это удаление этого процесса если он не нужный: 
    
    sudo lsof -i :5432 # Выводит PID процесса который занимает данный порт
 
    kill <PID> # Удаляет процесс
    
После успешной сборки контейнеров нужно запустить пару комманд для заполнения базы данных тестовыми данными: 

    sudo docker compose exec web /test_sellwin/manage.py migrate # Запуск миграций для БД
    
    sudo docker compose exec web /test_sellwin/manage.py db-json --fill # Заполнение базы данных тестовыми данными
    
После успешной установки можно перейти по адресу `0.0.0.0:8000/cards`:

Это является по сути корневым путем в приложении. Тут можно просмотреть карты, их заказы, удалить карту временно в корзину либо навсгда (доступно только из корзины). Также можно перейти к просмотру API сайта `0.0.0.0:8000/api`:

Энд-поинты API:

Список карт:
    `/api/cards/`

Детали конкретной карты карты: 
    `/api/cards/<card_number>`

> Также тут доступна фильтрация по датам. Примеры адресов: 
> 
> `0.0.0.0:8000/api/cards/0000000000000008?date_gt=2023-01-20`, 
> 
> `0.0.0.0:8000/api/cards/0000000000000008?date_lt=2023-01-30&date_gt=2023-01-20`     

Создание заказа:
    `/api/orders/create/<card_number>`
    
Просмотр заказов:
    `/api/orders/`
    
Просмотр продуктов:
    `/api/products/`

